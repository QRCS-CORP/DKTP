<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DKTP: Dual Key Tunneling Protocol: C:/Users/stepp/Documents/Visual Studio 2022/Projects/C/DKTP/DKTP/logger.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="dktp_extra_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DKTP: Dual Key Tunneling Protocol<span id="projectnumber">&#160;1.0.0.0a (A1)</span>
   </div>
   <div id="projectbrief">A quantum secure dual-key encrypted tunneling protocol</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('logger_8h.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<div class="header">
  <div class="headertitle"><div class="title">logger.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>DKTP logging functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;dktpcommon.h&quot;</code><br />
</div>
<p><a href="logger_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aee451048ecfeec80dbdfbf361e47340f" id="r_aee451048ecfeec80dbdfbf361e47340f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aee451048ecfeec80dbdfbf361e47340f">DKTP_LOGGING_MESSAGE_MAX</a>&#160;&#160;&#160;256U</td></tr>
<tr class="memdesc:aee451048ecfeec80dbdfbf361e47340f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum length of a log message.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a59e44ec38d4a7553c54e5357ee14b6e6" id="r_a59e44ec38d4a7553c54e5357ee14b6e6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a59e44ec38d4a7553c54e5357ee14b6e6">dktp_logger_exists</a> (void)</td></tr>
<tr class="memdesc:a59e44ec38d4a7553c54e5357ee14b6e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the DKTP log file exists.  <br /></td></tr>
<tr class="memitem:add655d2b4f00744350d9acda33fddd4a" id="r_add655d2b4f00744350d9acda33fddd4a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#add655d2b4f00744350d9acda33fddd4a">dktp_logger_initialize</a> (const char *path)</td></tr>
<tr class="memdesc:add655d2b4f00744350d9acda33fddd4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the DKTP logger.  <br /></td></tr>
<tr class="memitem:ab08e345372db236eedc05a5bcdc797c3" id="r_ab08e345372db236eedc05a5bcdc797c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab08e345372db236eedc05a5bcdc797c3">dktp_logger_print</a> (void)</td></tr>
<tr class="memdesc:ab08e345372db236eedc05a5bcdc797c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the contents of the DKTP log file.  <br /></td></tr>
<tr class="memitem:a852fad3e257c2fc2406c1ca5b5c2a820" id="r_a852fad3e257c2fc2406c1ca5b5c2a820"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a852fad3e257c2fc2406c1ca5b5c2a820">dktp_logger_read</a> (char *output, size_t otplen)</td></tr>
<tr class="memdesc:a852fad3e257c2fc2406c1ca5b5c2a820"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the DKTP log file into a provided buffer.  <br /></td></tr>
<tr class="memitem:a2fc384ca8fe7b13898fab366e6949e25" id="r_a2fc384ca8fe7b13898fab366e6949e25"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2fc384ca8fe7b13898fab366e6949e25">dktp_logger_reset</a> (void)</td></tr>
<tr class="memdesc:a2fc384ca8fe7b13898fab366e6949e25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the DKTP log.  <br /></td></tr>
<tr class="memitem:a101f427896794996866e0323dd779f3b" id="r_a101f427896794996866e0323dd779f3b"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a101f427896794996866e0323dd779f3b">dktp_logger_size</a> (void)</td></tr>
<tr class="memdesc:a101f427896794996866e0323dd779f3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current size of the DKTP log file.  <br /></td></tr>
<tr class="memitem:ac398ee7de7957bd67f29b266842c4821" id="r_ac398ee7de7957bd67f29b266842c4821"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac398ee7de7957bd67f29b266842c4821">dktp_logger_write</a> (const char *message)</td></tr>
<tr class="memdesc:ac398ee7de7957bd67f29b266842c4821"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a message to the DKTP log file.  <br /></td></tr>
<tr class="memitem:a8f5f9874baa01ca7e155fb52dfc87983" id="r_a8f5f9874baa01ca7e155fb52dfc87983"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8f5f9874baa01ca7e155fb52dfc87983">dktp_logger_test</a> (void)</td></tr>
<tr class="memdesc:a8f5f9874baa01ca7e155fb52dfc87983"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run a manual test of the DKTP logger functions.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>DKTP logging functions. </p>
<p>This header file defines the internal logging functions for the Dual Key Tunneling Protocol (DKTP). The logging subsystem provides basic functionality to create, manage, and inspect log files. These functions allow the DKTP system to record operational events, errors, and other informational messages which can be used for debugging and monitoring purposes.</p>
<p>The following constants are defined:</p>
<ul>
<li><code>DKTP_LOGGING_MESSAGE_MAX:</code> Maximum length allowed for a single log message.</li>
<li><code>DKTP_LOGGER_PATH:</code> The default directory path for DKTP log files.</li>
<li><code>DKTP_LOGGER_FILE:</code> The default filename for the DKTP log.</li>
<li><code>DKTP_LOGGER_HEAD:</code> The header string for the log file, which typically includes version information.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>These functions and constants are internal and non-exportable. </dd></dl>
</div><a name="doc-define-members" id="doc-define-members"></a><h2 id="header-doc-define-members" class="groupheader">Macro Definition Documentation</h2>
<a id="aee451048ecfeec80dbdfbf361e47340f" name="aee451048ecfeec80dbdfbf361e47340f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee451048ecfeec80dbdfbf361e47340f">&#9670;&#160;</a></span>DKTP_LOGGING_MESSAGE_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DKTP_LOGGING_MESSAGE_MAX&#160;&#160;&#160;256U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum length of a log message. </p>
<p>This macro defines the maximum number of characters that a single log message may contain. </p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="a59e44ec38d4a7553c54e5357ee14b6e6" name="a59e44ec38d4a7553c54e5357ee14b6e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59e44ec38d4a7553c54e5357ee14b6e6">&#9670;&#160;</a></span>dktp_logger_exists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dktp_logger_exists </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the DKTP log file exists. </p>
<p>This function checks for the existence of the DKTP log file in the configured logging directory.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns true if the log file exists; otherwise, false. </dd></dl>

</div>
</div>
<a id="add655d2b4f00744350d9acda33fddd4a" name="add655d2b4f00744350d9acda33fddd4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add655d2b4f00744350d9acda33fddd4a">&#9670;&#160;</a></span>dktp_logger_initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dktp_logger_initialize </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the DKTP logger. </p>
<p>This function initializes the logging subsystem by setting the log file path and creating the log file if it does not already exist. The default header (<code>DKTP_LOGGER_HEAD</code>) is written to the log file upon initialization.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The file path or directory where the log file should be created. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab08e345372db236eedc05a5bcdc797c3" name="ab08e345372db236eedc05a5bcdc797c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab08e345372db236eedc05a5bcdc797c3">&#9670;&#160;</a></span>dktp_logger_print()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dktp_logger_print </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print the contents of the DKTP log file. </p>
<p>This function outputs the entire contents of the DKTP log file to the standard output or designated debug stream. It is useful for real-time monitoring and debugging purposes. </p>

</div>
</div>
<a id="a852fad3e257c2fc2406c1ca5b5c2a820" name="a852fad3e257c2fc2406c1ca5b5c2a820"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a852fad3e257c2fc2406c1ca5b5c2a820">&#9670;&#160;</a></span>dktp_logger_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dktp_logger_read </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>output</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>otplen</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the DKTP log file into a provided buffer. </p>
<p>This function reads the content of the DKTP log file and copies it into the specified output buffer. The caller must ensure that the output buffer is large enough to hold the log data, up to <code>otplen</code> bytes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">output</td><td>A pointer to the buffer where the log content will be stored. </td></tr>
    <tr><td class="paramname">otplen</td><td>The size, in bytes, of the output buffer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2fc384ca8fe7b13898fab366e6949e25" name="a2fc384ca8fe7b13898fab366e6949e25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fc384ca8fe7b13898fab366e6949e25">&#9670;&#160;</a></span>dktp_logger_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dktp_logger_reset </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the DKTP log. </p>
<p>This function erases all the contents of the DKTP log file, effectively resetting it to an empty state. This operation is useful for clearing old log data before starting a new session. </p>

</div>
</div>
<a id="a101f427896794996866e0323dd779f3b" name="a101f427896794996866e0323dd779f3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a101f427896794996866e0323dd779f3b">&#9670;&#160;</a></span>dktp_logger_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t dktp_logger_size </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current size of the DKTP log file. </p>
<p>This function returns the size of the log file in bytes. It can be used to monitor log growth and manage log rotation.</p>
<dl class="section return"><dt>Returns</dt><dd>The size of the log file in bytes. </dd></dl>

</div>
</div>
<a id="a8f5f9874baa01ca7e155fb52dfc87983" name="a8f5f9874baa01ca7e155fb52dfc87983"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f5f9874baa01ca7e155fb52dfc87983">&#9670;&#160;</a></span>dktp_logger_test()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dktp_logger_test </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run a manual test of the DKTP logger functions. </p>
<p>This function performs a series of tests on the DKTP logging subsystem. The test routine includes:</p>
<ul>
<li>Initializing the logger with a test path.</li>
<li>Writing one or more test messages to the log.</li>
<li>Reading and printing the log content.</li>
<li>Resetting the log and verifying that it has been cleared.</li>
<li>Checking the reported log file size.</li>
</ul>
<p>The function returns true if all logger operations work as expected.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns true if all logger tests succeed; otherwise, false. </dd></dl>

</div>
</div>
<a id="ac398ee7de7957bd67f29b266842c4821" name="ac398ee7de7957bd67f29b266842c4821"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac398ee7de7957bd67f29b266842c4821">&#9670;&#160;</a></span>dktp_logger_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dktp_logger_write </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>message</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a message to the DKTP log file. </p>
<p>This function writes the specified log message to the DKTP log file. The message should be a null-terminated string, and its length should not exceed <code>DKTP_LOGGING_MESSAGE_MAX</code> characters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>[const] The log message to be written.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if the message was successfully written to the log file; otherwise, false. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_b9edba6ce4064bbb490bb6c4b3b73d6f.html">DKTP</a></li><li class="navelem"><a href="logger_8h.html">logger.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
